# Spring Boot Testing Example 🧪

A Mini Food Delivery API built with Spring Boot and MyBatis, focusing on testing practices using JUnit and Mockito.

## 🚀 Features

### 🍽️ Restaurants & Menus
- Add new restaurants
- Add menu items for a restaurant
- Fetch a restaurant's menu

### 🛒 Orders
- Place an order for one or more menu items
- Calculate total price from menu items
- Validate restaurant existence and item validity

### 🚚 Deliveries
- Assign a delivery to an order
- Track delivery status:
  - PENDING
  - ASSIGNED
  - DELIVERED

## 💾 Database
- Database schema auto-created on application startup using `schema.sql`
- User IDs are auto-generated by MySQL and populated in API responses

## 🔥 API Examples

### Restaurants
```bash
# Create a new restaurant
curl -X POST http://localhost:8080/api/restaurants \
  -H "Content-Type: application/json" \
  -d '{"name": "Awesome Restaurant"}'

# Get a restaurant by ID
curl http://localhost:8080/api/restaurants/1

# Get all restaurants
curl http://localhost:8080/api/restaurants
```

### Menu Items
```bash
# Add a menu item to a restaurant
curl -X POST http://localhost:8080/api/restaurants/1/menu-items \
  -H "Content-Type: application/json" \
  -d '{
    "name": "Delicious Pizza",
    "price": 12.99
  }'

# Get menu items for a restaurant
curl http://localhost:8080/api/restaurants/1/menu-items
```

### Orders
```bash
# Create a new order
curl -X POST http://localhost:8080/api/orders \
  -H "Content-Type: application/json" \
  -d '{
    "restaurantId": 1,
    "items": [
      {
        "menuItemId": 1,
        "quantity": 2
      }
    ]
  }'

# Get an order by ID
curl http://localhost:8080/api/orders/1

# Update order status (options: PENDING, ASSIGNED, DELIVERED)
curl -X PUT "http://localhost:8080/api/orders/1/status?status=DELIVERED"
```

### Response Examples

#### Successful Response
```json
{
  "id": 1,
  "name": "Delicious Pizza",
  "price": 12.99,
  "restaurantId": 1
}
```

#### Error Response (400 Bad Request)
```json
{
  "timestamp": "2025-08-20T19:32:05.124+00:00",
  "status": 400,
  "error": "Bad Request",
  "path": "/api/restaurants/1/menu-items"
}
```

> Note: Make sure to replace IDs (1, 2, etc.) with actual IDs from your database.
